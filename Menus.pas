unit Menus;interface	uses		QDOffscreen, Globals, Windows, Graphics;{----------------------------}	procedure SetUpMenus;	procedure DoCommand (mResult: longint);{----------------------------}implementation{----------------------------}	procedure SetUpMenus;		var			i: integer;	begin{ create from resources }		gameMenus.menusArray[appleM] := GetMenu(appleID);		AddResMenu(gameMenus.menusArray[appleM], 'DRVR');		gameMenus.menusArray[fileM] := GetMenu(fileID);		gameMenus.menusArray[editM] := GetMenu(editID);		gameMenus.menusArray[windowM] := GetMenu(windowID);		for i := 1 to menuCount do			InsertMenu(gameMenus.menusArray[i], 0);		DrawMenuBar;	end;{----------------------------}	procedure DoCommand (mResult: longint);		var			theItem: integer;			theMenu: integer;			name: Str255;			temp: integer;	begin		theItem := LoWord(mResult);		theMenu := HiWord(mResult);		case theMenu of			noMenuID: 				begin				end;			appleID: 				begin					GetItem(gameMenus.menusArray[appleM], theItem, name);					temp := OpenDeskAcc(name);					SetPort(gameWindow.windowPtr);				end;			fileID: 				gameGlobals.doneFlag := true;			editID: 				begin					if not SystemEdit(theItem - 1) then						case theItem of							cutCommand: 								gameGlobals.doneFlag := gameGlobals.doneFlag;							copyCommand: 								gameGlobals.doneFlag := gameGlobals.doneFlag;							pasteCommand: 								gameGlobals.doneFlag := gameGlobals.doneFlag;							clearCommand: 								gameGlobals.doneFlag := gameGlobals.doneFlag;						end;				end;			windowID: 				begin					case theItem of						smallCommand: 							gameMenus.windowSelection := smallCommand;						mediumCommand: 							gameMenus.windowSelection := mediumCommand;						largeCommand: 							gameMenus.windowSelection := largeCommand;					end;{ delete exisitng window, replace with resource and redraw }					DisposeWindow(gameWindow.windowPtr);					DisposeGWorld(gameWindow.offGWorld);					SetupWindow;					DrawScreen;				end;		end;		HiliteMenu(0);	end;{----------------------------}end.