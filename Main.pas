program Main;{I-}							{ disable automatic initialization }	uses		Globals, Menus;{----------------------------}begin	InitGraf(@thePort);	InitFonts;	FlushEvents(everyEvent, 0);	InitWindows;	InitMenus;	InitDialogs(nil);	InitCursor;	SetUpMenus;	doneFlag := false;{ screen }	screenRect := screenBits.bounds;	with screenBits.bounds do		SetRect(dragRect, 4, 24, right - 4, bottom - 4);{ window }	myWindow := GetNewWindow(windowID, @wRecord, pointer(-1));	SetPort(myWindow);	windowRect := myWindow^.portRect;	windowWidth := windowRect.right - windowRect.left;	windowHeight := windowRect.bottom - windowRect.top;{ background color }	FillRect(windowRect, black);{ backdrop picture }	backdropPictH := GetPicture(backdropPictID);	backdropPictRect := backdropPictH^^.picFrame;	backdropPictWidth := backdropPictRect.right - backdropPictRect.left;	backdropPictHeight := backdropPictRect.bottom - backdropPictRect.top;	backdropPictLeft := round((windowWidth - backdropPictWidth) / 2);	backdropPictTop := round((windowHeight - backdropPictHeight) / 2);	SetRect(backdropPictRect, backdropPictLeft, backdropPictTop, backdropPictLeft + backdropPictWidth, backdropPictTop + backdropPictHeight);	FillRect(backdropPictRect, white);	DrawPicture(backdropPictH, backdropPictRect);	repeat		SystemTask;		if GetNextEvent(everyEvent, myEvent) then			case myEvent.what of				mouseDown: 					case FindWindow(myEvent.where, whichWindow) of						inSysWindow: 							SystemClick(myEvent, whichWindow);						inMenuBar: 							DoCommand(MenuSelect(myEvent.where));						inDrag: 							DragWindow(whichWindow, myEvent.where, dragRect);						inContent: 							begin								if whichWindow <> FrontWindow then									SelectWindow(whichWindow)								else									begin										GlobalToLocal(myEvent.where);										extended := BitAnd(myEvent.modifiers, shiftKey) <> 0;									end;							end;						otherwise					end;				keyDown, autoKey: 					begin						theChar := chr(BitAnd(myEvent.message, charCodeMask));						if BitAnd(myEvent.modifiers, cmdKey) <> 0 then							DoCommand(MenuKey(theChar))						else							begin							end;					end;				activateEvt: 					begin						if BitAnd(myEvent.modifiers, activeFlag) <> 0 then							begin								DisableItem(myMenus[editM], undoCommand);							end						else							begin								EnableItem(myMenus[editM], undoCommand);							end;					end;				updateEvt: 					begin						BeginUpdate(WindowPtr(myEvent.message));						DrawPicture(backdropPictH, backdropPictRect);						EndUpdate(WindowPtr(myEvent.message));					end;				otherwise			end;	until doneFlag;end.