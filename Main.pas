program Main;{I-}							{ disable automatic initialization }	uses		Globals, Menus;{----------------------------}begin	InitGraf(@thePort);	InitFonts;	FlushEvents(everyEvent, 0);	InitWindows;	InitMenus;	InitDialogs(nil);	InitCursor;	SetUpMenus;	with screenBits.bounds do		SetRect(dragRect, 4, 24, right - 4, bottom - 4);	doneFlag := false;	myWindow := GetNewWindow(windowID, @wRecord, pointer(-1));	SetPort(myWindow);	repeat		SystemTask;		if GetNextEvent(everyEvent, myEvent) then			case myEvent.what of				mouseDown: 					case FindWindow(myEvent.where, whichWindow) of						inSysWindow: 							SystemClick(myEvent, whichWindow);						inMenuBar: 							DoCommand(MenuSelect(myEvent.where));						inDrag: 							DragWindow(whichWindow, myEvent.where, dragRect);						inContent: 							begin								if whichWindow <> FrontWindow then									SelectWindow(whichWindow)								else									begin										GlobalToLocal(myEvent.where);										extended := BitAnd(myEvent.modifiers, shiftKey) <> 0;									end;							end;					end;				keyDown, autoKey: 					begin						theChar := chr(BitAnd(myEvent.message, charCodeMask));						if BitAnd(myEvent.modifiers, cmdKey) <> 0 then							DoCommand(MenuKey(theChar))						else							begin							end;					end;				activateEvt: 					begin						if BitAnd(myEvent.modifiers, activeFlag) <> 0 then							begin								DisableItem(myMenus[editM], undoCommand);							end						else							begin								EnableItem(myMenus[editM], undoCommand);							end;					end;				updateEvt: 					begin						BeginUpdate(WindowPtr(myEvent.message));						EraseRect(thePort^.portRect);						EndUpdate(WindowPtr(myEvent.message));					end;				otherwise			end;	until doneFlag;end.